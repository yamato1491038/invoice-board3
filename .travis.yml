language: ruby
rvm: 2.6.5

services:
  - mysql

branches:
  only: 
    - master
    - test_code_create

install: bundle install

before_install:
  - mysql -e 'CREATE DATABASE invoice_board3_test;'

before_script:
  - cp config/database.yml.travis config/database.yml

script:
  - bundle exec rake db:create
  - bundle exec rake db:migrate
  - bundle exec rspec